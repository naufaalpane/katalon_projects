
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row customContainer mt-4">
    <div class="col-md-12">
        <div class="card customShadow">
            <div class="card-header pb-0">
                <div class="row">
                    <div class="col-md-6">
                        <h3 class="card-title">
                            Process Start-up Confirmation
                        </h3>
                    </div>
                    <div class="col-md-6 text-right">
                        <div class="form-group-sm">
                            <h5 class="text-right"><span class="badge companyCd">Company : <span id="comcd">807J</span></span></h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body" style="padding: 10px 16px;">
                <div class="jumbotron jumbotron-fluid pr-4 pl-4 pb-4 mt-2" style="font-family: Cambria Math; box-shadow: 0px 1px 4px rgb(172, 172, 172); color: #767676;">
                    <div class="container text-center">
                        <h1 class="display-4">Would you like to process ? </h1>
                        <p class="lead pb-5">Process Name : U01-019 Order Volume Different List</p>
                    </div>
                    <div class="container pt-5 mt-5 text-right">
                        <p class="lead" style="font-family: Arial; font-size: 13px;">For Execution, press "Execute" button</p>
                        <div class="form-group-sm">
                            <button class="btn btn-md btn-info initialBtn" id="executeBtn">Execute</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section BodyScript{
    <script type="text/javascript" src="@Url.Content("~/Content/tdk/jquery.filedownload.js")"></script>

    <script>
        $(document).ready(function () {
            $("#executeBtn").on("click", function () {
                popUpProgressShow();

                $.fileDownload('@Url.Content("~/OrderVolumeDifferentListCreation/executeBatch")',{
                    httpMethod: "POST",
                    data: {
                        COMPANY_CD: $("#comcd").text()
                    },
                    successCallback: function (data) {
                        popUpProgressHide();
                        $.messagepanel.show("I: Execution Completed Succesfully");
                    },
                    failCallback: function (a, b) {
                        popUpProgressHide();
                        $.messagepanel.show("E: " + a);
                    }
                });
            });
        });
    </script>

}
