@using Toyota.Common.Credential
@using Toyota.Common.Utilities
@using GPPSU.Controllers
@{
    MenuList menuList = Html.Toyota().Page.AuthorizedMenu;
    User user = Html.Toyota().Page.User;
    string URL = "";
    if (user != null && user.Company.Id == "1000")
    {
        URL = "http://hrportal.toyota.co.id/Content/images/" + user.RegistrationNumber + ".jpg";
    }
    else
    {
        URL = "~/Content/Bootstrap4/images/avatars/anonymous.jpg";
    }

}

@functions
{

    public string GetBaseUrl()
    {
        var request = HttpContext.Current.Request;
        var appUrl = HttpRuntime.AppDomainAppVirtualPath;

        if (appUrl != "/")
            appUrl = "/" + appUrl;

        var baseUrl = string.Format("{0}://{1}{2}", request.Url.Scheme, request.Url.Authority, appUrl);

        return baseUrl;
    }

}

@{
    string title = Html.Toyota().Page.Title.ToString();

    if (title == null)
    {
        title = Html.Toyota().Page.Title.ToString();
    }
}




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    @*<meta name="viewport" content="width=device-width, initial-scale=1">*@
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>@Html.Toyota().Application.Name - @Html.Toyota().Page.Title</title>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/fontawesome-free/css/all.min.css")">
    <!-- Ionicons -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/dist/css/ionicons.css")">

    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.css")">
    @*<link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/sweetalert2/sweetalert2.css")">*@

    <!-- daterange picker -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/daterangepicker/daterangepicker.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap-datepicker/css/bootstrap-datepicker.css")">
    <!-- iCheck for checkboxes and radio inputs -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/icheck-bootstrap/icheck-bootstrap.min.css")">
    <!-- Bootstrap Color Picker -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css")">
    <!-- Tempusdominus Bbootstrap 4 -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css")">
    <!-- Select2 -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/select2/css/select2.min.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css")">
    <!-- Bootstrap4 Duallistbox -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css")">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/overlayScrollbars/css/OverlayScrollbars.min.css")">

    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/dropzone/dist/basic.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/dropzone/dist/dropzone.css")">

    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/plugins/chosen/chosen.css")">
    <!-- Theme style -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/dist/css/adminlte.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/dist/css/tdk4.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/common/tdk.messagebox.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/common/tdk.messagepanel.css")">
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap4/common/tdk.crud.css")">
    <script>var gRootPath = "@Url.Content("~/")";</script>
    <!-- Google Font: Source Sans Pro -->
    <!-- Fixed Table -->

    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/FixedTable.css")">

    @if (IsSectionDefined("ScriptWO"))
    {
        @RenderSection("ScriptWO")
    }

    <link href="@Url.Content("~/Content/Bootstrap4/fonts/sourcesanspro.css")" rel="stylesheet">
    <link href="@Url.Content("~/Content/Bootstrap4/fonts/leaguespartan.css")" rel="stylesheet">
    <link href="@Url.Content("~/Content/css/customStyle.css")" rel="stylesheet">

    @*<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
    *@

    <!-- CSS -->
    <style type="text/css">

        /* some elements used in demo only */
        .spinner-preview {
            width: 100px;
            height: 100px;
            text-align: center;
            margin-top: 60px;
        }

        .dropdown-preview {
            margin: 0 5px;
            display: inline-block;
        }

            .dropdown-preview > .dropdown-menu {
                display: block;
                position: static;
                margin-bottom: 5px;
            }

        #clock {
            color: White;
            padding: 0 10px;
        }

        .app-title {
            font-family: 'League Spartan Bold', arial;
            font-size: 21px;
            line-height: 1;
            vertical-align: bottom;
            color: white;
        }

        .logo-title {
            width: 22px;
        }

        .li-logout {
            background-color: #2D3E5C;
        }

        .user-info {
            line-height: 16px !important;
        }

        .nav-user-photo {
            max-width: 35px !important;
        }

        /* change header navbar default background color */
        .no-skin .navbar {
            background: #393939 none repeat scroll 0 0;
            box-shadow: 0 !important;
            margin-bottom: 0 !important;
        }

        /* change free space on the left header navbar */
        #navbar-container {
            padding-left: 0;
        }

        .navbar-brand {
            padding-left: 8px;
        }

        /* change padding for page content */
        .page-content {
            padding: 8px 8px 0 !important;
        }


        /* table */
        .table {
            margin-bottom: 0rem !important;
            table-layout: fixed;
        }

        .red {
            background-color: red;
        }

        .light-blue {
            background-color: lightblue;
        }

        .pre-con {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
        }

        /* swal2*/

    </style>

    @Html.Toyota().Initialize()

    @if (IsSectionDefined("HeadScript"))
    {
        @RenderSection("HeadScript")
    }


    <!--[if lte IE 8]-->
    @*<script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/html5shiv.js")"></script>
        <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/respond.js")"></script>*@
    <!--[endif]-->
    <!-- basic scripts -->
    <!--[if !IE]> -->
    <script type="text/javascript">
        window.jQuery || document.write("<script src='/Content/Bootstrap4/plugins/jquery/jquery.min.js'>" + "<" + "/script>");
        if ('ontouchstart' in document.documentElement) document.write("<script src='/Content/Bootstrap4/plugins/jquery.mobile.custom.js'>" + "<" + "/script>");
    </script>

</head>
<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-dark navbar-dark-blue" style="right: 0px !important;">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>

            </ul>
            <div></div>
            <span class="app-title" id="sTitle">@Html.Toyota().Application.Name</span>

            <!-- Right navbar links -->

            <ul class="navbar-nav ml-auto" style="margin-right: 70px;">
                <li id="clock" style="margin:auto; font-family: sans-serif; font-size: 13px;"></li>
                <li style="color: #fff; padding: 0 10px; margin:auto; font-family: sans-serif; font-size: 13px;"><span id="CompName">TMMIN</span></li>
                <li class="nav-item">
                    <a class="nav-link" id="contact-popup-link">

                        <i class="text-white far fa-2x fa-life-ring"></i>

                    </a>
                </li>
                <li>
                    <div class="logout">
                        <div class="row justify-content-center align-items-center h-100 bg-danger">
                            <div class="col bg-danger justify-content-center align-items-center" style="margin-top: auto; margin-bottom: auto;">
                                <a href="@GetBaseUrl()Login/Logout">
                                    <i class="fas fa-2x fa-sign-out-alt"></i> <span class="text">Logout</span>

                                </a>
                            </div>

                        </div>
                    </div>
                </li>

            </ul>

        </nav>
        @*<div class="logout">
                <div class="row justify-content-center align-items-center h-100 bg-danger">
                    <div class="col bg-danger justify-content-center align-items-center" style="margin-top: auto; margin-bottom: auto;">
                        <a href="@GetBaseUrl()Login/Logout">
                            <i class="fas fa-2x fa-sign-out-alt"></i> <span class="text">Logout</span>

                        </a>
                    </div>

                </div>
            </div>*@
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar elevation-4 sidebar-light-danger">
            <!-- Brand Logo -->
            <a href="#" class="brand-link navbar-dark-blue">
                <img src="@Url.Content("~/Content/Bootstrap4/img/app-logo.png")" alt="App Logo" class="brand-image"
                     style="opacity: .8">
                <span class="brand-text app-title" id="aTitle">@Html.Toyota().Application.Alias</span>
            </a>

            <!-- Sidebar -->
            @Html.Partial("VerticalMenu")
            <!-- /.sidebar -->
        </aside>


        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <div class="content-header" style="box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.15);">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6 col-md-7 col-lg-7">
                            <ol class="breadcrumb float-sm-left">
                                <li class="breadcrumb-item text-lg">
                                    <i class="nav-icon fas fa-home"></i>
                                    <a href="@Html.Toyota().Page.HomeUrl" style="font-size:13px;">Home</a>
                                </li>
                                <li class="breadcrumb-item text-lg active"><lable id="headerForMainTitle" style="font-weight: bolder; font-size: 13px;">@title</lable></li>
                            </ol>
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->
            <!-- Main content -->
            <div class="d-flex justify-content-center align-items-center initialPreload">
                <div class="spinnerDisplay"></div>
            </div>
            <section class="content loader">
                <div id="messageContainer">
                    @Html.Partial("_MessagePanel")
                </div>
                <div class="container-fluid">
                    @RenderBody()



                </div><!--/. container-fluid -->
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->
        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->
        <!-- Main Footer -->
        <footer class="main-footer">
            <strong>Copyright &copy; 2020 <a href="#">Toyota Motor Manufacturing Indonesia</a>.</strong>
            All rights reserved.
            <div class="float-right d-none d-sm-inline-block">
                <b>Version</b> 1.0.0
            </div>
        </footer>
    </div>
    <!-- ./wrapper -->

    @Html.Partial("_About")

    <!-- REQUIRED SCRIPTS -->
    <!-- jQuery -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/jquery/jquery.min.js")"></script>
    <!-- Bootstrap -->
    <script src="@Url.Content("~/Content/Bootstrap4/dist/js/bootstrap.bundle.js")"></script>
    @*<script src="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap/js/bootstrap.bundle.min.js")"></script>*@
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/sweetalert2/sweetalert2.min.js")"></script>

    <!-- overlayScrollbars -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js")"></script>
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/select2/js/select2.full.min.js")"></script>
    <!-- Bootstrap4 Duallistbox -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js")"></script>
    <!-- InputMask -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/moment/moment.min.js")"></script>
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/inputmask/min/jquery.inputmask.bundle.min.js")"></script>
    <!-- date-range-picker -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/daterangepicker/daterangepicker.js")"></script>
    @*<script src="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js")"></script>*@
    <!-- bootstrap color picker -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js")"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js")"></script>
    <!-- Bootstrap Switch -->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/bootstrap-switch/js/bootstrap-switch.min.js")"></script>

    <script src="@Url.Content("~/Content/Bootstrap4/plugins/chosen/chosen.jquery.js")"></script>
    @*<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.6.1/chosen.jquery.min.js"></script>*@

    <!-- AdminLTE App -->
    <script src="@Url.Content("~/Content/Bootstrap4/dist/js/adminlte.js")"></script>
    <script src="@Url.Content("~/Content/Bootstrap4/dist/js/tdk4.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.util.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.progressbox.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.messagebox.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.messagepanel.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.disable_enable_button.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.crud.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.dropdown.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/tdk.download.js")"></script>
    <!-- OPTIONAL SCRIPTS -->
    <script src="@Url.Content("~/Content/Bootstrap4/dist/js/jquery.cookie.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/js/jquery.masknumber.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/GPPSU.messagelist.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap4/common/GPPSU.js")"></script>
    <script src="~/Content/js/jquery.blockUI.js"></script>
    <script src="~/Content/js/jquery-msgbox/jquery.msgBox.js"></script>
    <script src="~/Content/js/common.js"></script>

    <!-- Fixed Table -->
    <script type="text/javascript" src="@Url.Content("~/Content/js/FixedTable.js")"></script>
    <!-- PAGE PLUGINS -->
    <!-- jQuery Mapael -->
    @*<script src="@Url.Content("~/Content/Bootstrap4/plugins/jquery-mousewheel/jquery.mousewheel.js")"></script>
            <script src="@Url.Content("~/Content/Bootstrap4/plugins/raphael/raphael.min.js")"></script>
            <script src="@Url.Content("~/Content/Bootstrap4/plugins/jquery-mapael/jquery.mapael.min.js")"></script>
            <script src="@Url.Content("~/Content/Bootstrap4/plugins/jquery-mapael/maps/usa_states.min.js")"></script>
            <!-- ChartJS -->

        <script src="@Url.Content("~/Content/Bootstrap4/plugins/chart.js/Chart.min.js")"></script> *@

    <!--Dropzone-->
    <script src="@Url.Content("~/Content/Bootstrap4/plugins/dropzone/dist/dropzone.js")"></script>
    <script>
        var initialButton = `
            <button class="btn initialBtn btn-md btn-outline-primary pt-0 pb-0 pl-1 pr-1" title="Edit" id="editLine">
                <small><i class="fa fa-pen"></i></small>
            </button>
            <button class="btn initialBtn btn-md btn-outline-info pt-0 pb-0 pl-1 pr-1" title="Copy Line" id="copyLine">
                <small><i class="fa fa-copy"></i></small>
            </button>
            <button class="btn initialBtn btn-md btn-outline-warning pt-0 pb-0 pl-1 pr-1" id="deleteLine" title="Delete">
                <small><i class="fa fa-trash"></i></small>
            </button>
        `;
        var modifiedButton = `
            <button class="btn btn-md btn-primary pt-0 pb-0 pl-1 pr-1" id="btnSave" title="Save">
                <small><i class="fa fa-save"></i></small>
            </button>
            <button class="btn btn-md btn-danger pt-0 pb-0 pl-1 pr-1" id="cancelSubmit" title="Cancel">
                <small><i class="fa fa-times"></i></small>
            </button>
        `;
        $(function () {
            //Initialize Select2 Elements
            // $('.select2').select2()

            /*$(".select2").each(function () {
                $(this).siblings(".select2-container").css('border', '1px solid red');
            });*/
            //Initialize Select2 Elements
            /*$('.select2bs4').select2({
                theme: 'bootstrap4'
            })*/
            /*$(".chosen-select").chosen(
                { allow_single_deselect: true, width: "100%" });*/
            //Bootstrap Duallistbox
            $('.duallistbox').bootstrapDualListbox()

            /*$('.datepicker').datepicker({
                format: "dd/mm/yyyy",
                autoclose: true,
                todayBtn: true,
                orientation: 'bottom'

            });*/
            //fixedHeader();            
            adjustTableHeight();

            $('.initialPreload').fadeOut(800, function () {
                $('.content').removeClass('loader');
                $('.initialPreload').removeClass('d-flex justify-content-center align-items-center');
            });
                        
            $(".content-wrapper").css("min-height", "785px");

            var originalHeight = $(window).height();

            $(window).on('resize', function () {
                var result = Math.abs($(window).height() - originalHeight);
                if ($(window).height() > 630 && (result < 100 && result != 0)) {
                    clickMenu(document.querySelector('li.menu-open ul.nav-treeview li a.nav-link.active'));
                    this.location.href = this.location.href;
                }
            });
        })

        $("#btnAboutMenu").click(function () {
            $("#about-popup").modal();
        });

        $("#aTitle").click(function () {
            $("#about-popup").modal();
        });
        $("#contact-popup-link").click(function () {
            $("#contact-popup").modal();
        });

        $('.date-picker').daterangepicker({
            singleDatePicker: true,
            showDropdowns: true,
            //autoUpdateInput: false,
            locale: {
                format: 'DD.MM.YYYY'
            }
        });
        $('.date-picker').val('');

        function fixedHeader() {

            var tableHeaderTop = document.querySelector('.customTable thead').getBoundingClientRect().top;
            var ths = document.querySelectorAll('.customTable thead th');

            var tbs = document.querySelectorAll('.customTable tbody th');

            var tableHeaderLeft = document.querySelector('.customTable thead').getBoundingClientRect().left;
            var thsLeft = document.querySelectorAll('.customTable thead th.stickyColumn');

            var tableBodyLeft = document.querySelector('.customTable tbody').getBoundingClientRect().left;
            var thsBodyLeft = document.querySelectorAll('.customTable tbody th.stickyColumn');

            for (var i = 0; i < ths.length; i++) {
                var th = ths[i];
                th.style.top = (th.getBoundingClientRect().top - tableHeaderTop + (-1)) + "px";
            }

            for (var i = 0; i < tbs.length; i++) {
                var th = tbs[i];
                th.style.top = (th.getBoundingClientRect().top - tableHeaderTop + (-1)) + "px";
            }

            for (var i = 0; i < thsLeft.length; i++) {
                var th = thsLeft[i];
                th.style.left = (th.getBoundingClientRect().left - tableHeaderLeft + (-1)) + "px";
            }

            for (var i = 0; i < thsBodyLeft.length; i++) {
                var th = thsBodyLeft[i];
                th.style.left = (th.getBoundingClientRect().left - tableBodyLeft + (-1)) + "px";
            }

            var numberOfTd = $(".customTable tbody tr").length;
            $(".customTable tbody tr:first-child td.stickyColumn, .customTable tbody tr.startStickyTd td.stickyColumn").each(function (i, e) {
                var td = e;
                var left = (td.getBoundingClientRect().left - tableHeaderLeft + (-1)) + "px";

                if ($(e).closest('tr').hasClass("startStickyTd")) {
                    $(".customTable tbody").find("tr:lt(" + numberOfTd + ")").find("td.stickyColumn." + i).css("left", left);
                } else {
                    $(".customTable tbody").find("tr:lt(" + numberOfTd + ")").find("td.stickyColumn:eq(" + i + ")").css("left", left);
                }
            });

            var width = $(".customTable").width();
            var height = $(".customTable thead").height();
            $(".tableScroll").prepend('<div class="theadBackground"></div>');
            $(".theadBackground").css({ "width": width + "px", "height": height - 0.5 + "px" });
            $(".customTable").css({ "margin-top": "-" + height - 1 + "px", "margin-left": "-1px" });

            $('.preload').fadeOut(function () {
                $('.card-body').removeClass('sk-loading');
            });
            adjustTableHeight();
        }

        function adjustTableHeight() {
            if (document.querySelector(".tableScroll") != null) {
                var currentHeight = document.querySelector(".tableScroll").getBoundingClientRect().height;
                var x = document.querySelector('.tableScroll').getBoundingClientRect().bottom;
                var y = document.querySelector('.main-footer').getBoundingClientRect().top;
                var z = y - x;
                $(".tableScroll").css("max-height", currentHeight + (z - 75));
            }
        }

        /** start show clock **/
        var tday = new Array("Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat");
        var tmonth = new Array("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec");

        function GetClock() {
            var d = new Date();
            var nday = d.getDay(), nmonth = d.getMonth(), ndate = d.getDate(), nyear = d.getFullYear(), nhour = d.getHours(), nmin = d.getMinutes(), nsec = d.getSeconds();
            var nclock = tday[nday] + ", " + " " + ndate + " " + tmonth[nmonth] + " " + nyear + " " + nhour + ":" + nmin + ":" + nsec;
            $("#clock").text(nclock);
        }

        GetClock();
        setInterval(GetClock, 1000);
        /** end show clock **/


        /** expand menu parent after page moved **/
        $(".nav-link").click(function () {
            clickMenu(this);
        });

        //if cookie exist
        if ($.cookie('parentMenu')) {
            var parent = $.cookie('parentMenu');
            var current = $.cookie('currentMenu');
            expandMenu(parent, current);

            $.removeCookie('parentMenu', { path: '/' });
            $.removeCookie('currentMenu', { path: '/' });
        }

        //save menu id in cookie after menu click
        function clickMenu(obj) {
            var vparent = $(obj).attr("data-parent");
            var vcurrent = $(obj).attr("data-menu");
            if (typeof vparent !== 'undefined') {
                $.cookie('parentMenu', vparent, { path: '/' });
                $.cookie('currentMenu', vcurrent, { path: '/' });
            }
        }

        //activated parent menu
        function expandMenu(menuId, childId) {
            var parent = $("#" + menuId);
            var current = $("#" + childId);
            if (typeof parent != "undefined") {
                parent.addClass("menu-open");
                parent.find('> a').addClass("active");

                //if menu has parent
                var vpr = parent.attr("data-parent");
                if (vpr != null && typeof $("#" + vpr) != "undefined") {
                    expandMenu(vpr);
                    //show submenu
                    $("#" + menuId + " > ul").removeClass("menu-open").addClass("menu-open").css("display", "block");
                }
            }

            if (typeof current != undefined) {
                current.find('> a').addClass("active");
            }
        }
        /** end expand menu parent **/

        /** Skin layout **/
        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') c = c.substring(1);
                if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
            }
            return "";
        }



        /** End skin layout **/
    </script>

    @if (IsSectionDefined("BodyScript"))
    {
        @RenderSection("BodyScript")
    }
    <!-- PAGE SCRIPTS -->
    <div id="progress-loading" class="pre-con text-center" style="display: none">
        <img alt="image" style="margin-top: 200px;" width="30" height="30" src="@Url.Content("~/Content/Bootstrap4/img/loading.gif")" />
    </div>
</body>
</html>